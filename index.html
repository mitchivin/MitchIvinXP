<!--
  index.html — Main HTML Entrypoint for Windows XP Simulation

  Provides the structure for:
  - Boot and login screens
  - Desktop and desktop icons
  - Taskbar and system tray
  - CRT visual effects overlays
  - Application script entrypoint

  @file index.html
-->
<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover"
    />
    <meta http-equiv="X-Content-Type-Options" content="nosniff" />
    <meta
      name="description"
      content="Mitch Ivin - Graphic Designer. View my design work through an interactive Windows XP desktop experience. Complete with working applications and authentic retro interface."
    />
    <meta
      name="keywords"
      content="Windows XP, Desktop, HTML, CSS, JavaScript, Web, UI, Portfolio, Mitch Ivin, Web Development, Frontend, Operating System, Simulation"
    />
    <meta name="author" content="Mitch Ivin (mitchellivin@gmail.com)" />
    <link rel="icon" href="./assets/gui/boot/favicon.png" type="image/png" />
    <title>MitchIvin XP</title>
    <!-- Open Graph -->
    <meta property="og:title" content="Mitch Ivin — Windows XP Portfolio" />
    <meta property="og:description" content="A Windows XP–style interactive portfolio showcasing design, video, and UI work by Mitch Ivin." />
    <meta property="og:type" content="website" />
    <meta property="og:site_name" content="MitchIvin XP" />
    <meta property="og:image" content="./assets/gui/boot/boot-wordmark.webp" />
    <meta property="og:image:alt" content="MitchIvin XP" />
    <!-- Twitter Cards -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Mitch Ivin — Windows XP Portfolio" />
    <meta name="twitter:description" content="A Windows XP–style interactive portfolio showcasing design, video, and UI work by Mitch Ivin." />
    <meta name="twitter:image" content="./assets/gui/boot/boot-wordmark.webp" />
    <!-- Robots -->
    <meta name="robots" content="index,follow" />
    <!-- Resource Hints: warm up critical third-party origins -->
  <link rel="preconnect" href="https://unpkg.com" crossorigin />
  <!-- Preload shared XP.css so iframes reuse cached bytes (network dedupe) -->
  <link rel="preload" href="https://unpkg.com/xp.css@0.2.6/dist/XP.css" as="style" crossorigin>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <!-- Paint app connection warming -->
  <link rel="preconnect" href="https://jspaint.app" crossorigin />
    <!-- Preload Critical Assets -->
  <!-- Restored high fetchpriority for all primary desktop & taskbar imagery to prevent measurement race affecting maximized window layout -->
  <link rel="preload" href="./assets/gui/bgs/bliss.webp" as="image" fetchpriority="high" type="image/webp" />
  <link rel="preload" href="./assets/gui/desktop/about.webp" as="image" fetchpriority="high" type="image/webp" />
  <link rel="preload" href="./assets/gui/desktop/projects.webp" as="image" fetchpriority="high" type="image/webp" />
  <link rel="preload" href="./assets/gui/desktop/contact.webp" as="image" fetchpriority="high" type="image/webp" />
  <link rel="preload" href="./assets/gui/desktop/resume.webp" as="image" fetchpriority="high" type="image/webp" />
    <link
      rel="preload"
      href="./assets/gui/taskbar/start-button.webp"
      as="image"
  fetchpriority="high"
      type="image/webp"
    />
    <link
      rel="preload"
      href="./assets/gui/taskbar/taskbar-bg.webp"
      as="image"
  fetchpriority="high"
      type="image/webp"
    />
    <link
      rel="preload"
      href="./assets/gui/taskbar/system-tray.webp"
      as="image"
  fetchpriority="high"
      type="image/webp"
    />
    <!-- Stylesheets -->
    <!-- Load xp.css FIRST so our main.css (which imports reset.css setting body { font-family: Tahoma,... }) can override it. -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/xp.css@0.2.6/dist/XP.css"
      crossorigin="anonymous"
    />
    <!-- Our stylesheet last to enforce Tahoma font and local overrides -->
    <link rel="stylesheet" href="./src/styles/main.css" />
    <script>
      // Performance marks to observe xp.css load relative to start
      try { performance.mark('xp_preload_hint_injected'); } catch(e){}
      window.addEventListener('load', () => {
        try {
          const xpLink = document.querySelector('link[href*="xp.css@0.2.6"]');
          if (xpLink && xpLink.sheet) performance.mark('xp_stylesheet_parsed');
          performance.measure('xp_css_parse_interval','xp_preload_hint_injected','xp_stylesheet_parsed');
          const m = performance.getEntriesByName('xp_css_parse_interval')[0];
          if (m) console.log('[Perf] XP.css parse interval (ms):', m.duration.toFixed(2));
        } catch(e){}
      });
    </script>
    <!-- JSON-LD Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Person",
      "name": "Mitch Ivin",
      "jobTitle": "Graphic Designer",
      "url": "https://example.com/",
      "sameAs": [
        "https://www.instagram.com/mitchivin",
        "https://github.com/mitchivin",
        "https://www.linkedin.com/in/mitchivin/"
      ]
    }
    </script>
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "name": "MitchIvin XP",
      "url": "https://example.com/"
    }
    </script>
  </head>
  <body>
    <!-- Semantics for SEO/AT without changing UI -->
    <h1 class="sr-only">Mitch Ivin — Graphic Designer Portfolio</h1>
    <noscript>
      <p>
        Welcome to my portfolio. JavaScript is required for the full Windows XP experience. You can reach me on
        <a href="https://www.linkedin.com/in/mitchivin/" rel="noopener" target="_blank">LinkedIn</a>,
        view my work on <a href="https://github.com/mitchivin" rel="noopener" target="_blank">GitHub</a>,
        or see my latest on <a href="https://www.instagram.com/mitchivin" rel="noopener" target="_blank">Instagram</a>.
      </p>
    </noscript>
    <!-- Pre-Boot Overlay -->
    <div id="pre-boot-overlay" class="pre-boot-overlay-style"></div>
    <!-- Boot Screen -->
    <div id="boot-screen">
      <div class="loading-container">
          <img
          id="boot-logo"
          src="./assets/gui/boot/loading.webp"
          alt="Windows XP Loading"
          draggable="false"
        />
        <div class="container">
          <div class="box"></div>
          <div class="box"></div>
          <div class="box"></div>
        </div>
      </div>
      <div
        id="boot-delay-message"
        style="
          display: none;
          position: absolute;
          top: 40px;
          left: 50%;
          transform: translateX(-50%);
          color: #fff;
          font-size: 14px;
          text-shadow: 1px 1px 2px #000;
          text-align: center;
        "
      >
        Still booting... hang tight.
      </div>
      <div class="boot-bottom-left">
        <span>For the best experience</span>
        <span>Enter Full Screen (F11)</span>
      </div>
      <div class="boot-bottom-right">
          <img decoding="async"
          src="./assets/gui/boot/boot-wordmark.webp"
          alt="Boot Wordmark"
          draggable="false"
        />
      </div>
    </div>
    <div id="boot-fadeout-overlay" class="boot-fadeout-overlay-style"></div>
    <!-- Login Screen -->
    <div id="login-screen">
      <div class="login-screen login-screen-initial-display">
        <div class="login-screen-inner">
          <div class="login-screen-center">
            <div class="left">
              <img
                class="xp-logo-image"
                src="./assets/gui/boot/loading.webp"
                alt="Windows XP Loading"
                draggable="false"
              />
              <div class="left-text">
                <span class="desktop-login-instruction"
                  >To begin, click on
                  <span class="login-instruction-name">Mitch Ivin</span> to log
                  in</span
                >
              </div>
            </div>
            <hr class="login-separator mobile-only" />
            <div class="login-divider" aria-hidden="true"></div>
            <div class="right">
              <div class="back-gradient">
                <div class="user">
          <img decoding="async"
                    src="./assets/gui/boot/userlogin.webp"
                    alt="User Profile"
                    draggable="false"
                  />
                </div>
                <div class="text-wrap">
                  <div class="name">Mitch Ivin</div>
                  <div class="user-title">Graphic Designer</div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="turn-off">
          <img
            id="shutdown-icon"
            src="./assets/gui/start-menu/restart.webp"
            alt="Restart"
            draggable="false"
          />
          <div class="shutdown-text">Restart MitchIvin XP</div>
        </div>
        <div class="right-bottom">
          <span class="desktop-bottom-detail"
            >After you log on, the system's yours to explore.</span
          >
          <span class="desktop-bottom-detail"
            >Every detail has been designed with a purpose.</span
          >
          <span class="mobile-bottom-detail"
            >Tap on the user icon to begin</span
          >
        </div>
      </div>
      <div class="welcome-message welcome-message-initial-hidden">
        <span class="welcome-image-fallback">Welcome</span>
      </div>
    </div>
    <!-- Desktop & Icons -->
    <div class="desktop">
      <div class="desktop-icons">
        <div class="desktop-icon" data-program-name="about">
          <img
            src="./assets/gui/desktop/about.webp"
            alt="About Me"
            loading="eager"
          />
          <span>About Me</span>
        </div>
        <div class="desktop-icon" data-program-name="resume">
          <img
            src="./assets/gui/desktop/resume.webp"
            alt="Resume"
            loading="eager"
          />
          <span>My Resume</span>
        </div>
        <div class="desktop-icon" data-program-name="projects">
          <img
            src="./assets/gui/desktop/projects.webp"
            alt="My Projects"
            loading="eager"
          />
          <span>My Projects</span>
        </div>
        <div class="desktop-icon" data-program-name="contact">
          <img
            src="./assets/gui/desktop/contact.webp"
            alt="Contact Me"
            loading="eager"
          />
          <span>Contact Me</span>
        </div>
      </div>
    </div>
    <!-- Windows Container -->
    <div id="windows-container"></div>
    <!-- Taskbar -->
    <div class="taskbar">
      <button class="start-button" id="start-button">
        <img src="./assets/gui/taskbar/start-button.webp" alt="Start" />
      </button>
      <div class="taskbar-programs"></div>
      <div class="system-tray">
        <img
          src="./assets/gui/taskbar/system-tray.webp"
          alt="System Tray"
          class="system-tray-bg"
        />
        <div class="tray-content">
          <div class="tray-icons">
            <img
              src="./assets/gui/taskbar/welcome.webp"
              alt="Welcome Icon"
              class="tray-network-icon"
              data-tooltip="Click to view 'Welcome'"
            />
            <img
              src="./assets/gui/taskbar/fullscreen.webp"
              alt="Fullscreen"
              class="tray-fullscreen-icon desktop-only"
              data-tooltip="Toggle Fullscreen"
            />
          </div>
          <div class="time">12:00 PM</div>
        </div>
      </div>
    </div>
    <!-- Application Entrypoint -->
    <script type="module" src="./src/scripts/main.js"></script>
    <!-- CRT Effects Overlays -->
    <div class="crt-effect"></div>
    <div class="crt-scanline"></div>
    <div class="crt-vignette"></div>
    <div class="crt-noise"></div>
    <div class="crt-flicker"></div>
    <div class="crt-aberration"></div>
    <div class="crt-persistence"></div>
    <div class="flicker"></div>

    <div id="logoff-dialog-container" class="logoff-dialog-hidden">
      <div class="logoff-dialog">
        <div class="logoff-dialog-body">
          <div class="logoff-dialog-header-content">
            <img
              src="assets/gui/boot/favicon.png"
              alt=""
              class="logoff-dialog-header-icon"
            />
            <span class="logoff-dialog-header-text">Log Off Windows</span>
          </div>

          <div
            class="logoff-dialog-separator-bar logoff-dialog-separator-bar-top"
          ></div>

          <div class="logoff-dialog-button-container">
            <div id="logoff-switch-user-btn" class="logoff-dialog-button">
              <img
                src="assets/gui/start-menu/restart.webp"
                alt="Restart Icon"
                width="22"
                height="22"
                draggable="false"
              />
              <span>Restart</span>
            </div>
            <div id="logoff-log-off-btn" class="logoff-dialog-button">
              <img
                src="assets/gui/start-menu/logoff.webp"
                alt="Log Off Icon"
                width="22"
                height="22"
                draggable="false"
              />
              <span>Log Off</span>
            </div>
          </div>

          <div
            class="logoff-dialog-separator-bar logoff-dialog-separator-bar-bottom"
          >
            <div class="logoff-dialog-footer">
              <button
                id="logoff-cancel-btn"
                aria-label="Cancel"
                style="user-select: none"
              >
                Cancel
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
