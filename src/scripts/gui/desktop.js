const _0x375c21=_0x53df;function _0x53df(_0x567438,_0x2a4f3d){const _0x1c5fcd=_0x1c5f();return _0x53df=function(_0x53df7d,_0x164a4d){_0x53df7d=_0x53df7d-0x132;let _0x450ae2=_0x1c5fcd[_0x53df7d];if(_0x53df['QnylYu']===undefined){var _0x29b169=function(_0x16efde){const _0x3b3af9='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x22cf6e='',_0x168c58='';for(let _0x1697db=0x0,_0x4e0f03,_0x1e47d0,_0x350d3f=0x0;_0x1e47d0=_0x16efde['charAt'](_0x350d3f++);~_0x1e47d0&&(_0x4e0f03=_0x1697db%0x4?_0x4e0f03*0x40+_0x1e47d0:_0x1e47d0,_0x1697db++%0x4)?_0x22cf6e+=String['fromCharCode'](0xff&_0x4e0f03>>(-0x2*_0x1697db&0x6)):0x0){_0x1e47d0=_0x3b3af9['indexOf'](_0x1e47d0);}for(let _0x557291=0x0,_0x3f8d8c=_0x22cf6e['length'];_0x557291<_0x3f8d8c;_0x557291++){_0x168c58+='%'+('00'+_0x22cf6e['charCodeAt'](_0x557291)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x168c58);};_0x53df['dbWSmf']=_0x29b169,_0x567438=arguments,_0x53df['QnylYu']=!![];}const _0x4ff8b7=_0x1c5fcd[0x0],_0x3b0814=_0x53df7d+_0x4ff8b7,_0x440ea9=_0x567438[_0x3b0814];return!_0x440ea9?(_0x450ae2=_0x53df['dbWSmf'](_0x450ae2),_0x567438[_0x3b0814]=_0x450ae2):_0x450ae2=_0x440ea9,_0x450ae2;},_0x53df(_0x567438,_0x2a4f3d);}(function(_0x15d011,_0xeea5f4){const _0x2d66c1=_0x53df,_0xf2a96e=_0x15d011();while(!![]){try{const _0x189f38=-parseInt(_0x2d66c1(0x174))/0x1*(-parseInt(_0x2d66c1(0x16d))/0x2)+-parseInt(_0x2d66c1(0x185))/0x3+-parseInt(_0x2d66c1(0x15a))/0x4*(parseInt(_0x2d66c1(0x173))/0x5)+-parseInt(_0x2d66c1(0x14d))/0x6+-parseInt(_0x2d66c1(0x164))/0x7*(parseInt(_0x2d66c1(0x179))/0x8)+-parseInt(_0x2d66c1(0x176))/0x9*(-parseInt(_0x2d66c1(0x154))/0xa)+parseInt(_0x2d66c1(0x163))/0xb*(parseInt(_0x2d66c1(0x153))/0xc);if(_0x189f38===_0xeea5f4)break;else _0xf2a96e['push'](_0xf2a96e['shift']());}catch(_0x2350fc){_0xf2a96e['push'](_0xf2a96e['shift']());}}}(_0x1c5f,0x9916d));function _0x1c5f(){const _0x3f94b9=['nda4nNfvC3bHCW','AgfZrhjHz2DLza','ywrK','nJCYody0offgzvbSuW','C29JAwfSCW','CgfYzw50tM9Kzq','v0Lore9xx0nsrufuruq','ywX0','lMrLC2T0B3aTAwnVBG','C3vIC2nYAwjL','zxzLBNrcDxm','Cg9PBNrLCMrVD24','DgfYz2v0','ywn0AxzLrhjHz1bVAw50zxjjza','C2vSzwn0Aw9UqM94','mtCXntaXounIEhjdDq','ChjLCgvUza','z2v0swnVBNm','mhb4','Dg9W','C3rHCNry','BwLU','C3rHCNrz','u1rbuLrnru5vx09qru5fra','Cg9PBNrLCKLK','DxbKyxrLu29JAwfSrgvZA3rVCeLJB25Z','BgvMDa','zgL2','z2v0qM91BMrPBMDdBgLLBNrszwn0','C2vSzwn0swnVBG','x2jSyw5R','C2vSzwn0Aw9Ulw92zxjSyxK','A2v5','C2v0Dxbjy29UrxzLBNrZ','ywrKrxzLBNrmAxn0zw5LCG','Cg9PBNrLCNvW','CxvLCNLtzwXLy3rVCG','C2v0DxbqB2LUDgvYu2vSzwn0Aw9UrxzLBNrZ','y29UDgfPBNm','yxnZAwDU','DgfNtMfTzq','CMvWBgfJzq','y2XLyxi','C3jJ','C2vSzwn0zwrjy29UCW','ANnVBG','i3nLBgvJDgLVBI1IB3GSic5ZzwXLy3rPB24TyM94','Ag92zxiTyNKTC2vSzwn0Aw9U','y2XHC3nmAxn0','y2XPzw50wq','y3jLyxrLu2vSzwn0Aw9Ut3zLCMXHEq','ufjpr1jbtv9puevo','y2XLyxjtzwXLy3rPB24','lMrLC2T0B3a','mZC4mZy4nffNuezfCq','Dg91y2HLBMq','CxvLCNLtzwXLy3rVCKfSBa','v0Lore9xx0zpq1vtruq','C3r5Bgu','Bwf4vg91y2HqB2LUDhm','ndmWnteZmZjSuvHQBKe','mJuXmgflDwPiqW','AgLNAgXPz2H0swnVBNnjBNrLCNnLy3rPBMC','B250B3vJAhn0yxj0','D2fSBhbHCgvYrgvZA3rVCa','zgvZA3rVCa','AxneCMfNz2LUzW','ndm4ntu4oefTtvPxua','D2fSBhbHCgvYtw9IAwXL','DhjPBq','CMvTB3zL','zxjYB3i','y2XLyw51CefYDgLMywn0CW','D2fSBhbHCgvYlwrLzMf1Bhq','AwnVBG','yMfJA2DYB3vUzeLTywDL','mtfSuefmzwq','n1Lys3rcwa','BgfZDenSAwnRvgLTzxm','z2v0qxr0CMLIDxrL','C2vSzwn0zwq','D2fSBhbHCgvYlw1VyMLSzq','lMrLC2T0B3aTAwnVBLTKyxrHlxbYB2DYyw0TBMfTzt0I','rMfPBgvKihrVigzLDgnOihn5C3rLBs5QC29UoG','lI9ZExn0zw0UANnVBG','Dgv4DenVBNrLBNq','nKHHDfndEG','y2XPzw50wa','B3zLCMXHEq','zM9YrwfJAa','y2XLyxjuzw1WB3jHCNLiAwDOBgLNAhrZ','CMvZzxreCMfNu2vSzwn0Aw9Uu3rHDgu','nw5AzvPxyW','mJe3ntfQs3r4tLK','y3jLyxrLrwXLBwvUDa'];_0x1c5f=function(){return _0x3f94b9;};return _0x1c5f();}import{EVENTS}from'../utils/eventBus.js';import{isMobileDevice}from'../utils/device.js';let SOCIALS_CACHE=null;async function getSocials(){const _0xa4a3d=_0x53df;if(SOCIALS_CACHE)return SOCIALS_CACHE;try{const _0x16efde=await fetch('./info.json'),_0x3b3af9=await _0x16efde[_0xa4a3d(0x144)]();return SOCIALS_CACHE=Array['isArray'](_0x3b3af9[_0xa4a3d(0x17a)])?_0x3b3af9[_0xa4a3d(0x17a)]:[],SOCIALS_CACHE;}catch(_0x22cf6e){return console[_0xa4a3d(0x15e)]('Failed\x20to\x20fetch\x20or\x20parse\x20socials\x20from\x20info.json:',_0x22cf6e),SOCIALS_CACHE=[],SOCIALS_CACHE;}}let SYSTEM_ASSETS=null;async function getSystemAssets(){const _0x3ae601=_0x53df;if(SYSTEM_ASSETS)return SYSTEM_ASSETS;try{const _0x168c58=await fetch(_0x3ae601(0x16b));return SYSTEM_ASSETS=await _0x168c58['json'](),SYSTEM_ASSETS;}catch(_0x1697db){return console[_0x3ae601(0x15e)](_0x3ae601(0x16a),_0x1697db),SYSTEM_ASSETS={},SYSTEM_ASSETS;}}export default class Desktop{constructor(_0x4e0f03){const _0x3f7286=_0x53df;this['eventBus']=_0x4e0f03,this[_0x3f7286(0x158)]=document['querySelector'](_0x3f7286(0x14c)),this['selectionBox']=null,this[_0x3f7286(0x159)]=!0x1,this[_0x3f7286(0x177)]=!0x1,this[_0x3f7286(0x18a)]=0x0,this[_0x3f7286(0x18c)]=0x0,this['lastClickTimes']={},this[_0x3f7286(0x143)]=new Set(),this['activeDragPointerId']=null,this[_0x3f7286(0x15f)](),this[_0x3f7286(0x149)](),getSocials()['then'](_0x1e47d0=>{const _0x37eda7=_0x3f7286;this['socials']=_0x1e47d0,this['updateSocialDesktopIcons'](),this[_0x37eda7(0x138)]();}),this['setupDesktopEvents'](),this[_0x3f7286(0x13c)](),this['desktop']['classList'][_0x3f7286(0x15d)]('wallpaper-default',_0x3f7286(0x168)),isMobileDevice()?this[_0x3f7286(0x158)][_0x3f7286(0x147)][_0x3f7286(0x178)]('wallpaper-mobile'):this[_0x3f7286(0x158)][_0x3f7286(0x147)]['add'](_0x3f7286(0x160)),this['eventBus'][_0x3f7286(0x17f)](EVENTS[_0x3f7286(0x17c)],()=>this['clearSelection']()),this['eventBus']['subscribe'](EVENTS[_0x3f7286(0x150)],()=>this['clearSelection']()),this['eventBus'][_0x3f7286(0x17f)](EVENTS['PROGRAM_OPEN'],()=>this['resetDragSelectionState']()),this[_0x3f7286(0x180)][_0x3f7286(0x17f)](EVENTS[_0x3f7286(0x18d)],()=>this[_0x3f7286(0x172)]()),getSystemAssets()['then'](_0x350d3f=>{const _0x3e87b9=_0x3f7286;isMobileDevice()&&_0x350d3f[_0x3e87b9(0x15b)]?this['desktop']['style'][_0x3e87b9(0x162)]='url(\x27'+_0x350d3f[_0x3e87b9(0x15b)]+'\x27)':_0x350d3f['wallpaperDesktop']&&(this['desktop']['style'][_0x3e87b9(0x162)]='url(\x27'+_0x350d3f[_0x3e87b9(0x157)]+'\x27)');});}[_0x375c21(0x187)](){const _0x5df685=_0x375c21;return this['desktop'][_0x5df685(0x14f)](_0x5df685(0x17e));}[_0x375c21(0x15f)](){const _0x467693=_0x375c21;document[_0x467693(0x14f)](_0x467693(0x145))[_0x467693(0x170)](_0x557291=>_0x557291[_0x467693(0x15d)]());}['createSelectionOverlay'](){const _0x5bc9ca=_0x375c21;this['overlay']||(this[_0x5bc9ca(0x16f)]=document[_0x5bc9ca(0x175)]('div'),this['overlay']['className']=_0x5bc9ca(0x136),this[_0x5bc9ca(0x158)][_0x5bc9ca(0x186)](this[_0x5bc9ca(0x16f)]));}[_0x375c21(0x18f)](){const _0x45a46f=_0x375c21;this['socials']&&this[_0x45a46f(0x17a)]['forEach'](_0x3f8d8c=>{const _0x4c0f7c=_0x45a46f,_0x520ff8=this[_0x4c0f7c(0x158)]['querySelector'](_0x4c0f7c(0x169)+_0x3f8d8c[_0x4c0f7c(0x137)]+'\x22]\x20img');if(_0x520ff8&&_0x3f8d8c['icon']){const _0x127136='./'+_0x3f8d8c[_0x4c0f7c(0x161)]['replace'](/^\.\//,'')[_0x4c0f7c(0x140)](/^\//,'');_0x520ff8[_0x4c0f7c(0x142)]=_0x127136,_0x520ff8[_0x4c0f7c(0x17d)]=_0x3f8d8c['name'];}});}['setupIconEvents'](){const _0xa4089c=_0x375c21,_0xcfe1c2=_0xa4089c(0x156)in window||navigator[_0xa4089c(0x152)]>0x0,_0x3c4d14=(this[_0xa4089c(0x17a)]||[])['reduce']((_0x169873,_0x191bc2)=>(_0x169873[_0x191bc2[_0xa4089c(0x137)]]=_0x191bc2,_0x169873),{});this[_0xa4089c(0x187)]()['forEach'](_0x4e5463=>{const _0x2e0246=_0xa4089c;if('A'===_0x4e5463[_0x2e0246(0x13f)])return;const _0x5b7e67=_0x4e5463[_0x2e0246(0x13b)]('span'),_0x55e67c=_0x5b7e67?_0x5b7e67[_0x2e0246(0x16c)][_0x2e0246(0x15c)]()['toLowerCase']()[_0x2e0246(0x140)](/\s+/g,'-'):'',_0x451251=_0x3825a8=>{const _0x1a2946=_0x2e0246;if(_0x3825a8['stopPropagation'](),_0xcfe1c2&&'click'===_0x3825a8['type'])return;const _0x5400a1=Date['now']();if(_0x5400a1-(this[_0x1a2946(0x165)][_0x55e67c]||0x0)<0x190){_0x4e5463[_0x1a2946(0x147)][_0x1a2946(0x13d)](_0x1a2946(0x167))||this[_0x1a2946(0x134)](_0x4e5463,!0x0);let _0x408d45=_0x4e5463[_0x1a2946(0x166)]('data-program-name');_0x3c4d14[_0x408d45]?window['open'](_0x3c4d14[_0x408d45]['url'],_0x1a2946(0x135)):this[_0x1a2946(0x180)]['publish'](EVENTS[_0x1a2946(0x14a)],{'programName':_0x408d45}),this['lastClickTimes'][_0x55e67c]=0x0;}else this['toggleIconSelection'](_0x4e5463,_0x3825a8['ctrlKey']),this['lastClickTimes'][_0x55e67c]=_0x5400a1;};_0xcfe1c2?_0x4e5463[_0x2e0246(0x139)](_0x2e0246(0x14e),_0x451251):_0x4e5463['addEventListener']('click',_0x451251);});}['setupDesktopEvents'](){this['desktop']['addEventListener']('click',_0x3fe162=>{const _0x57b6c4=_0x53df;_0x3fe162[_0x57b6c4(0x182)]!==this[_0x57b6c4(0x158)]&&_0x3fe162[_0x57b6c4(0x182)]!==this['overlay']||this['isDragging']||this[_0x57b6c4(0x177)]||this[_0x57b6c4(0x14b)]();});}[_0x375c21(0x13c)](){const _0x15cdcd=_0x375c21;window[_0x15cdcd(0x139)](_0x15cdcd(0x181),_0x397ca5=>{const _0x62f3e0=_0x15cdcd;if(_0x397ca5['target']!==this['overlay']&&_0x397ca5[_0x62f3e0(0x182)]!==this[_0x62f3e0(0x158)])return;if(isMobileDevice()&&(null!==this['activeDragPointerId']&&this['activeDragPointerId']!==_0x397ca5[_0x62f3e0(0x18e)]||this[_0x62f3e0(0x159)]&&this['activeDragPointerId']===_0x397ca5['pointerId'])&&this['resetDragSelectionState'](),this[_0x62f3e0(0x159)])return;_0x397ca5['ctrlKey']||this[_0x62f3e0(0x14b)]();const _0x1ba55e=this['desktop']['getBoundingClientRect']();this[_0x62f3e0(0x18a)]=_0x397ca5['clientX']-_0x1ba55e['left'],this['startY']=_0x397ca5['clientY']-_0x1ba55e[_0x62f3e0(0x189)],this[_0x62f3e0(0x171)](),this['selectionBox']=document[_0x62f3e0(0x175)](_0x62f3e0(0x132)),this[_0x62f3e0(0x184)]['className']='selection-box',Object[_0x62f3e0(0x13e)](this[_0x62f3e0(0x184)][_0x62f3e0(0x151)],{'left':this['startX']+'px','top':this[_0x62f3e0(0x18c)]+'px','width':_0x62f3e0(0x188),'height':'0px'}),this[_0x62f3e0(0x158)]['appendChild'](this['selectionBox']),this['isDragging']=!0x0,this['hasDragged']=!0x1,this[_0x62f3e0(0x183)]=_0x397ca5[_0x62f3e0(0x18e)];}),window[_0x15cdcd(0x139)]('pointermove',_0x281bb9=>{const _0x132b70=_0x15cdcd;if(!this[_0x132b70(0x159)]||!this[_0x132b70(0x184)])return;if(isMobileDevice()&&_0x281bb9['pointerId']!==this[_0x132b70(0x183)])return;this['hasDragged']=!0x0;const _0x131bbb=this['desktop'][_0x132b70(0x133)](),_0x36035c=_0x281bb9[_0x132b70(0x16e)]-_0x131bbb[_0x132b70(0x190)],_0x25a099=_0x281bb9[_0x132b70(0x148)]-_0x131bbb['top'],_0x354061=Math['min'](_0x36035c,this['startX']),_0x324c0e=Math[_0x132b70(0x18b)](_0x25a099,this[_0x132b70(0x18c)]),_0x2a67bd=Math['abs'](_0x36035c-this['startX']),_0x427330=Math['abs'](_0x25a099-this['startY']);Object['assign'](this['selectionBox'][_0x132b70(0x151)],{'left':_0x354061+'px','top':_0x324c0e+'px','width':_0x2a67bd+'px','height':_0x427330+'px'}),this[_0x132b70(0x155)](_0x354061,_0x324c0e,_0x2a67bd,_0x427330);}),window[_0x15cdcd(0x139)](_0x15cdcd(0x13a),_0x5df821=>{const _0x34d68d=_0x15cdcd;this['isDragging']&&this['selectionBox']&&(isMobileDevice()&&_0x5df821[_0x34d68d(0x18e)]!==this['activeDragPointerId']||(this['isDragging']=!0x1,this['getIcons']()[_0x34d68d(0x170)](_0x4fdcdc=>{const _0x334287=_0x34d68d;_0x4fdcdc['classList']['contains']('hover-by-selection')&&(_0x4fdcdc['classList'][_0x334287(0x15d)](_0x334287(0x146)),_0x4fdcdc['classList']['add']('selected'),this[_0x334287(0x143)]['add'](_0x4fdcdc));}),this['selectionBox']?.[_0x34d68d(0x17b)]&&(this[_0x34d68d(0x184)][_0x34d68d(0x17b)]['removeChild'](this['selectionBox']),this[_0x34d68d(0x184)]=null),this['activeDragPointerId']=null));});}[_0x375c21(0x155)](_0x56ae57,_0x5368bf,_0x534c40,_0x37caf0){const _0x13b7c7=_0x375c21,_0x5bbca3=_0x56ae57,_0x363bd7=_0x5368bf,_0x2ef107=_0x56ae57+_0x534c40,_0x211b58=_0x5368bf+_0x37caf0;this[_0x13b7c7(0x187)]()[_0x13b7c7(0x170)](_0x20f8e2=>{const _0x3c7918=_0x13b7c7,_0x40ee97=_0x20f8e2['getBoundingClientRect'](),_0x1a1bc4=this['desktop']['getBoundingClientRect'](),_0x4df01d=_0x40ee97['left']-_0x1a1bc4['left'],_0x552cee=_0x40ee97[_0x3c7918(0x189)]-_0x1a1bc4[_0x3c7918(0x189)],_0x18c2f5=_0x40ee97['right']-_0x1a1bc4['left'],_0x26d65b=_0x40ee97['bottom']-_0x1a1bc4['top'];!(_0x18c2f5<_0x5bbca3||_0x4df01d>_0x2ef107||_0x26d65b<_0x363bd7||_0x552cee>_0x211b58)?_0x20f8e2['classList']['add'](_0x3c7918(0x146)):_0x20f8e2['classList']['remove'](_0x3c7918(0x146));});}['toggleIconSelection'](_0x4751df,_0x3f672f){const _0x2720f4=_0x375c21;_0x3f672f?_0x4751df[_0x2720f4(0x147)]['contains']('selected')?(_0x4751df['classList'][_0x2720f4(0x15d)]('selected'),this['selectedIcons']['delete'](_0x4751df)):(_0x4751df[_0x2720f4(0x147)]['add'](_0x2720f4(0x167)),this['selectedIcons'][_0x2720f4(0x178)](_0x4751df)):(this['clearSelection'](),_0x4751df[_0x2720f4(0x147)]['add']('selected'),this['selectedIcons']['add'](_0x4751df));}['selectIcon'](_0x20c383,_0x2aee59=!0x0){const _0x3e092a=_0x375c21;_0x2aee59&&this['clearSelection'](),_0x20c383['classList'][_0x3e092a(0x178)]('selected'),this[_0x3e092a(0x143)][_0x3e092a(0x178)](_0x20c383);}[_0x375c21(0x14b)](){const _0x7f54cd=_0x375c21;this[_0x7f54cd(0x187)]()[_0x7f54cd(0x170)](_0x22e949=>{const _0x8d91cc=_0x7f54cd;_0x22e949['classList'][_0x8d91cc(0x15d)](_0x8d91cc(0x167),_0x8d91cc(0x146));}),this[_0x7f54cd(0x143)][_0x7f54cd(0x141)]();}[_0x375c21(0x171)](){const _0x1cdcb7=_0x375c21;this[_0x1cdcb7(0x187)]()['forEach'](_0x5c7519=>_0x5c7519['classList']['remove']('hover-by-selection'));}['resetDragSelectionState'](){const _0x56dc1d=_0x375c21;this['isDragging']=!0x1,this['hasDragged']=!0x1,this['activeDragPointerId']=null,this['selectionBox']&&this[_0x56dc1d(0x184)]['parentNode']&&(this[_0x56dc1d(0x184)][_0x56dc1d(0x17b)]['removeChild'](this[_0x56dc1d(0x184)]),this['selectionBox']=null),this['clearTemporaryHighlights']();}}