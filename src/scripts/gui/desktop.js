function _0x33ff(){const _0x3b7c3e=['ywrK','AgfZrhjHz2DLza','zgL2','y29UDgfPBNm','B3zLCMXHEq','Dg9Nz2XLswnVBLnLBgvJDgLVBG','y2XLyw51CefYDgLMywn0CW','lMrLC2T0B3a','yM90Dg9T','y2XHC3noyw1L','mtC1mdq4otzNwvjMwM4','mZmYotq4z2X0vvrK','y2XPy2S','DgHLBG','mtyWmJG3nKLWqLb4CW','DxjS','mZiWotK3Dwrer2fQ','CgfYzw50tM9Kzq','C2vSzwn0Aw9UqM94','CMvWBgfJzq','y2XLyxjtzwXLy3rPB24','DxbKyxrLu29JAwfSrgvZA3rVCeLJB25Z','CMvKDwnL','yxnZAwDU','C2vSzwn0swnVBG','y2XPzw50wq','ywn0AxzLrhjHz1bVAw50zxjjza','C2v0DxbqB2LUDgvYu2vSzwn0Aw9UrxzLBNrZ','zgvZA3rVCa','C3r5Bgu','C29JAwfSCW','C3jJ','A2v5','C2v0Dxbjy29UrxzLBNrZ','AxnbCNjHEq','mhb4','v0Lore9xx0nsrufuruq','u1rbuLrnru5vx09qru5fra','BM93','Bwf4vg91y2HqB2LUDhm','y3rYBeTLEq','C2vSzwn0zwq','Dg9W','zgf0ys1WCM9NCMfTlw5HBwu','AxneCMfNz2LUzW','ywX0','BgfZDenSAwnRvgLTzxm','C3bHBG','D2fSBhbHCgvYtw9IAwXL','mte0nJq1ANn5BePS','Cg9PBNrLCNvW','BwLU','C2vSzwn0zwrjy29UCW','mJe3nteZoefetNPhzq','mtu2ChfdtfzO','zM9YrwfJAa','ANnVBG','AwnVBG','zxzLBNrcDxm','zxjYB3i','C3vIC2nYAwjL','Dgv4DenVBNrLBNq','y3jLyxrLu2vSzwn0Aw9Ut3zLCMXHEq','y3jLyxrLrwXLBwvUDa','CxvLCNLtzwXLy3rVCG','ChvIBgLZAa','C3rHCNrz','Cg9PBNrLCKLK','z2v0qM91BMrPBMDdBgLLBNrszwn0','mJa2nZGZCKfPCe1z','CMvTB3zL','yMfJA2DYB3vUzeLTywDL','CMvZzxreCMfNu2vSzwn0Aw9Uu3rHDgu','D2fSBhbHCgvYlw1VyMLSzq','z2v0qxr0CMLIDxrL','ywrKrxzLBNrmAxn0zw5LCG','C2v0DxbezxnRDg9WrxzLBNrZ','DhjPBq','v0Lore9xx0zpq1vtruq','C3rHCNry','y2XHC3nmAxn0','DgfYz2v0','AgLNAgXPz2H0swnVBNnjBNrLCNnLy3rPBMC','Ag92zxiTyNKTC2vSzwn0Aw9U','BgvMDa','CxvLCNLtzwXLy3rVCKfSBa','Dg91y2HLBMq','DxjSkcC','lMrLC2T0B3aTAwnVBLTKyxrHlxbYB2DYyw0TBMfTzt0I','z2v0swnVBNm'];_0x33ff=function(){return _0x3b7c3e;};return _0x33ff();}const _0x295c93=_0x2aa1;(function(_0x3e8749,_0x31a5d8){const _0x864ec0=_0x2aa1,_0x4cacbb=_0x3e8749();while(!![]){try{const _0x310df5=parseInt(_0x864ec0(0x9e))/0x1+-parseInt(_0x864ec0(0xc1))/0x2+-parseInt(_0x864ec0(0xc3))/0x3+-parseInt(_0x864ec0(0xbe))/0x4+-parseInt(_0x864ec0(0x8a))/0x5*(parseInt(_0x864ec0(0x8f))/0x6)+-parseInt(_0x864ec0(0x8e))/0x7+parseInt(_0x864ec0(0xbd))/0x8;if(_0x310df5===_0x31a5d8)break;else _0x4cacbb['push'](_0x4cacbb['shift']());}catch(_0x31b45c){_0x4cacbb['push'](_0x4cacbb['shift']());}}}(_0x33ff,0x792cd));import{EVENTS}from'../utils/eventBus.js';function _0x2aa1(_0x11d443,_0x5b2fa4){const _0x33fff7=_0x33ff();return _0x2aa1=function(_0x2aa10e,_0x3d56bc){_0x2aa10e=_0x2aa10e-0x81;let _0x577a6e=_0x33fff7[_0x2aa10e];if(_0x2aa1['ZSYEit']===undefined){var _0x3a9e84=function(_0x886ca2){const _0x52b55d='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x163616='',_0x4326db='';for(let _0x74e9ed=0x0,_0x320de4,_0xafda57,_0x171317=0x0;_0xafda57=_0x886ca2['charAt'](_0x171317++);~_0xafda57&&(_0x320de4=_0x74e9ed%0x4?_0x320de4*0x40+_0xafda57:_0xafda57,_0x74e9ed++%0x4)?_0x163616+=String['fromCharCode'](0xff&_0x320de4>>(-0x2*_0x74e9ed&0x6)):0x0){_0xafda57=_0x52b55d['indexOf'](_0xafda57);}for(let _0x4e3620=0x0,_0x18d00b=_0x163616['length'];_0x4e3620<_0x18d00b;_0x4e3620++){_0x4326db+='%'+('00'+_0x163616['charCodeAt'](_0x4e3620)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x4326db);};_0x2aa1['pQpnXH']=_0x3a9e84,_0x11d443=arguments,_0x2aa1['ZSYEit']=!![];}const _0x1d1e24=_0x33fff7[0x0],_0xde46e0=_0x2aa10e+_0x1d1e24,_0x6f1cbb=_0x11d443[_0xde46e0];return!_0x6f1cbb?(_0x577a6e=_0x2aa1['pQpnXH'](_0x577a6e),_0x11d443[_0xde46e0]=_0x577a6e):_0x577a6e=_0x6f1cbb,_0x577a6e;},_0x2aa1(_0x11d443,_0x5b2fa4);}import{isMobileDevice}from'../utils/device.js';let SOCIALS_CACHE=null;async function getSocials(){const _0x4113fa=_0x2aa1;if(SOCIALS_CACHE)return SOCIALS_CACHE;try{const _0x886ca2=await fetch('./info.json'),_0x52b55d=await _0x886ca2[_0x4113fa(0x91)]();return SOCIALS_CACHE=Array[_0x4113fa(0xd5)](_0x52b55d[_0x4113fa(0xd1)])?_0x52b55d[_0x4113fa(0xd1)]:[],SOCIALS_CACHE;}catch(_0x163616){return console[_0x4113fa(0x94)]('Failed\x20to\x20fetch\x20or\x20parse\x20socials\x20from\x20info.json:',_0x163616),SOCIALS_CACHE=[],SOCIALS_CACHE;}}let SYSTEM_ASSETS=null;async function getSystemAssets(){if(SYSTEM_ASSETS)return SYSTEM_ASSETS;try{const _0x4326db=await fetch('./system.json');return SYSTEM_ASSETS=await _0x4326db['json'](),SYSTEM_ASSETS;}catch(_0x74e9ed){return console['error']('Failed\x20to\x20fetch\x20system.json:',_0x74e9ed),SYSTEM_ASSETS={},SYSTEM_ASSETS;}}export default class Desktop{constructor(_0x320de4){const _0x550d63=_0x2aa1;this[_0x550d63(0x93)]=_0x320de4,this[_0x550d63(0xcf)]=document['querySelector'](_0x550d63(0xba)),this[_0x550d63(0xc5)]=null,this['isDragging']=!0x1,this[_0x550d63(0xb4)]=!0x1,this[_0x550d63(0xa8)]=0x0,this['startY']=0x0,this['lastClickTimes']={},this['selectedIcons']=new Set(),this['activeDragPointerId']=null,this[_0x550d63(0xb9)](),this[_0x550d63(0x97)](),getSocials()[_0x550d63(0xc0)](_0xafda57=>{const _0x453e5e=_0x550d63;this[_0x453e5e(0xd1)]=_0xafda57,this['updateSocialDesktopIcons'](),this[_0x453e5e(0xd4)]();}),this[_0x550d63(0xa5)](),this[_0x550d63(0xce)](),this[_0x550d63(0xcf)][_0x550d63(0xa9)]['remove']('wallpaper-default','wallpaper-mobile'),isMobileDevice()?this['desktop']['classList']['add'](_0x550d63(0xa2)):this['desktop']['classList'][_0x550d63(0xb3)]('wallpaper-default'),this['eventBus'][_0x550d63(0x95)](EVENTS[_0x550d63(0xd7)],()=>this[_0x550d63(0xc7)]()),this['eventBus']['subscribe'](EVENTS[_0x550d63(0xa7)],()=>this[_0x550d63(0xc7)]()),this[_0x550d63(0x93)]['subscribe'](EVENTS['PROGRAM_OPEN'],()=>this['resetDragSelectionState']()),this['eventBus']['subscribe'](EVENTS[_0x550d63(0xd8)],()=>this['resetDragSelectionState']()),getSystemAssets()[_0x550d63(0xc0)](_0x171317=>{const _0x32e6ae=_0x550d63;isMobileDevice()&&_0x171317['wallpaperMobile']?this[_0x32e6ae(0xcf)]['style'][_0x32e6ae(0xa0)]=_0x32e6ae(0xb0)+_0x171317[_0x32e6ae(0x89)]+'\x27)':_0x171317['wallpaperDesktop']&&(this['desktop']['style']['backgroundImage']='url(\x27'+_0x171317['wallpaperDesktop']+'\x27)');});}['getIcons'](){const _0xede885=_0x2aa1;return this['desktop'][_0xede885(0xae)]('.desktop-icon');}['cleanupArtifacts'](){document['querySelectorAll']('#selection-box,\x20.selection-box')['forEach'](_0x4e3620=>_0x4e3620['remove']());}[_0x295c93(0x97)](){const _0x46257f=_0x295c93;this[_0x46257f(0xb7)]||(this['overlay']=document[_0x46257f(0x98)]('div'),this['overlay']['className']='selection-overlay',this[_0x46257f(0xcf)]['prepend'](this[_0x46257f(0xb7)]));}[_0x295c93(0xc8)](){const _0x2ea849=_0x295c93;this['socials']&&this[_0x2ea849(0xd1)]['forEach'](_0x18d00b=>{const _0x389d15=_0x2ea849,_0x41590e=this['desktop'][_0x389d15(0x99)](_0x389d15(0xb1)+_0x18d00b[_0x389d15(0xd3)]+'\x22]\x20img');if(_0x41590e&&_0x18d00b[_0x389d15(0x92)]){const _0x96e99d='./'+_0x18d00b[_0x389d15(0x92)]['replace'](/^\.\//,'')['replace'](/^\//,'');_0x41590e[_0x389d15(0xd2)]=_0x96e99d,_0x41590e[_0x389d15(0x86)]=_0x18d00b['name'];}});}[_0x295c93(0xd4)](){const _0x67ab8=_0x295c93,_0x5023bd='ontouchstart'in window||navigator[_0x67ab8(0xda)]>0x0,_0x132d8c=(this['socials']||[])[_0x67ab8(0xc9)]((_0x46dcf5,_0x50dce4)=>(_0x46dcf5[_0x50dce4['key']]=_0x50dce4,_0x46dcf5),{});this['getIcons']()[_0x67ab8(0x90)](_0x249ba3=>{const _0x24e589=_0x67ab8;if('A'===_0x249ba3['tagName'])return;const _0x554946=_0x249ba3[_0x24e589(0x99)](_0x24e589(0x88)),_0x25f8a6=_0x554946?_0x554946[_0x24e589(0x96)][_0x24e589(0xa6)]()['toLowerCase']()[_0x24e589(0xc6)](/\s+/g,'-'):'',_0x1c2015=_0x101afa=>{const _0x35f3a2=_0x24e589;if(_0x101afa['stopPropagation'](),_0x5023bd&&_0x35f3a2(0xbf)===_0x101afa['type'])return;const _0x1cd354=Date[_0x35f3a2(0xd9)]();if(_0x1cd354-(this['lastClickTimes'][_0x25f8a6]||0x0)<0x190){_0x249ba3[_0x35f3a2(0xa9)]['contains']('selected')||this[_0x35f3a2(0xcb)](_0x249ba3,!0x0);let _0x32ab27=_0x249ba3[_0x35f3a2(0xa3)](_0x35f3a2(0x84));_0x132d8c[_0x32ab27]?window['open'](_0x132d8c[_0x32ab27][_0x35f3a2(0xc2)],'_blank'):this[_0x35f3a2(0x93)][_0x35f3a2(0x9a)](EVENTS['PROGRAM_OPEN'],{'programName':_0x32ab27}),this['lastClickTimes'][_0x25f8a6]=0x0;}else this['toggleIconSelection'](_0x249ba3,_0x101afa['ctrlKey']),this[_0x35f3a2(0x87)][_0x25f8a6]=_0x1cd354;};_0x5023bd?_0x249ba3['addEventListener'](_0x24e589(0xaf),_0x1c2015):_0x249ba3['addEventListener'](_0x24e589(0xbf),_0x1c2015);});}['setupDesktopEvents'](){const _0x4d1038=_0x295c93;this[_0x4d1038(0xcf)]['addEventListener'](_0x4d1038(0xbf),_0x2c5d00=>{_0x2c5d00['target']!==this['desktop']&&_0x2c5d00['target']!==this['overlay']||this['isDragging']||this['hasDragged']||this['clearSelection']();});}[_0x295c93(0xce)](){const _0x2aef95=_0x295c93;window['addEventListener']('pointerdown',_0x2070af=>{const _0x2f7b89=_0x2aa1;if(_0x2070af['target']!==this[_0x2f7b89(0xb7)]&&_0x2070af[_0x2f7b89(0xaa)]!==this['desktop'])return;if(isMobileDevice()&&(null!==this[_0x2f7b89(0xcd)]&&this['activeDragPointerId']!==_0x2070af[_0x2f7b89(0x9c)]||this['isDragging']&&this['activeDragPointerId']===_0x2070af[_0x2f7b89(0x9c)])&&this[_0x2f7b89(0xa1)](),this[_0x2f7b89(0x85)])return;_0x2070af[_0x2f7b89(0x81)]||this[_0x2f7b89(0xc7)]();const _0xb60578=this[_0x2f7b89(0xcf)]['getBoundingClientRect']();this[_0x2f7b89(0xa8)]=_0x2070af['clientX']-_0xb60578[_0x2f7b89(0xad)],this[_0x2f7b89(0x9b)]=_0x2070af['clientY']-_0xb60578['top'],this['clearTemporaryHighlights'](),this[_0x2f7b89(0xc5)]=document[_0x2f7b89(0x98)](_0x2f7b89(0xb5)),this[_0x2f7b89(0xc5)][_0x2f7b89(0xbc)]='selection-box',Object['assign'](this[_0x2f7b89(0xc5)][_0x2f7b89(0xd0)],{'left':this['startX']+'px','top':this['startY']+'px','width':'0px','height':_0x2f7b89(0xd6)}),this['desktop']['appendChild'](this[_0x2f7b89(0xc5)]),this[_0x2f7b89(0x85)]=!0x0,this[_0x2f7b89(0xb4)]=!0x1,this['activeDragPointerId']=_0x2070af[_0x2f7b89(0x9c)];}),window[_0x2aef95(0xa4)]('pointermove',_0x23ac28=>{const _0x334471=_0x2aef95;if(!this['isDragging']||!this[_0x334471(0xc5)])return;if(isMobileDevice()&&_0x23ac28['pointerId']!==this[_0x334471(0xcd)])return;this[_0x334471(0xb4)]=!0x0;const _0x56684c=this['desktop'][_0x334471(0x9d)](),_0x3a3c0c=_0x23ac28['clientX']-_0x56684c['left'],_0x12f2d7=_0x23ac28[_0x334471(0xcc)]-_0x56684c[_0x334471(0x83)],_0x530f47=Math[_0x334471(0x8c)](_0x3a3c0c,this[_0x334471(0xa8)]),_0x1ede19=Math[_0x334471(0x8c)](_0x12f2d7,this[_0x334471(0x9b)]),_0x4c654b=Math['abs'](_0x3a3c0c-this['startX']),_0x5f01b0=Math['abs'](_0x12f2d7-this['startY']);Object[_0x334471(0xca)](this['selectionBox']['style'],{'left':_0x530f47+'px','top':_0x1ede19+'px','width':_0x4c654b+'px','height':_0x5f01b0+'px'}),this['highlightIconsIntersecting'](_0x530f47,_0x1ede19,_0x4c654b,_0x5f01b0);}),window[_0x2aef95(0xa4)](_0x2aef95(0x8b),_0x4f5184=>{const _0x311bb1=_0x2aef95;this[_0x311bb1(0x85)]&&this[_0x311bb1(0xc5)]&&(isMobileDevice()&&_0x4f5184['pointerId']!==this['activeDragPointerId']||(this['isDragging']=!0x1,this['getIcons']()[_0x311bb1(0x90)](_0x5b9ae0=>{const _0x3382e5=_0x311bb1;_0x5b9ae0[_0x3382e5(0xa9)][_0x3382e5(0xb6)](_0x3382e5(0xac))&&(_0x5b9ae0['classList'][_0x3382e5(0x9f)]('hover-by-selection'),_0x5b9ae0['classList'][_0x3382e5(0xb3)]('selected'),this[_0x3382e5(0x8d)]['add'](_0x5b9ae0));}),this[_0x311bb1(0xc5)]?.[_0x311bb1(0xc4)]&&(this[_0x311bb1(0xc5)]['parentNode']['removeChild'](this[_0x311bb1(0xc5)]),this['selectionBox']=null),this[_0x311bb1(0xcd)]=null));});}[_0x295c93(0xab)](_0x5ab388,_0x2fb6fb,_0x26114c,_0x367629){const _0x4d2d1b=_0x295c93,_0x5df909=_0x5ab388,_0x3f189c=_0x2fb6fb,_0x10856f=_0x5ab388+_0x26114c,_0x951e7c=_0x2fb6fb+_0x367629;this['getIcons']()[_0x4d2d1b(0x90)](_0x3f8dc6=>{const _0x22ccc3=_0x4d2d1b,_0x577393=_0x3f8dc6[_0x22ccc3(0x9d)](),_0x110f9f=this[_0x22ccc3(0xcf)][_0x22ccc3(0x9d)](),_0x3be96d=_0x577393['left']-_0x110f9f['left'],_0x494f8e=_0x577393['top']-_0x110f9f[_0x22ccc3(0x83)],_0x594a3c=_0x577393['right']-_0x110f9f[_0x22ccc3(0xad)],_0x1b6bc6=_0x577393[_0x22ccc3(0xbb)]-_0x110f9f['top'];!(_0x594a3c<_0x5df909||_0x3be96d>_0x10856f||_0x1b6bc6<_0x3f189c||_0x494f8e>_0x951e7c)?_0x3f8dc6['classList'][_0x22ccc3(0xb3)]('hover-by-selection'):_0x3f8dc6[_0x22ccc3(0xa9)][_0x22ccc3(0x9f)](_0x22ccc3(0xac));});}[_0x295c93(0xb8)](_0x500abb,_0x4e8921){const _0x186506=_0x295c93;_0x4e8921?_0x500abb['classList'][_0x186506(0xb6)]('selected')?(_0x500abb['classList'][_0x186506(0x9f)](_0x186506(0x82)),this[_0x186506(0x8d)]['delete'](_0x500abb)):(_0x500abb[_0x186506(0xa9)][_0x186506(0xb3)]('selected'),this[_0x186506(0x8d)][_0x186506(0xb3)](_0x500abb)):(this[_0x186506(0xc7)](),_0x500abb['classList'][_0x186506(0xb3)](_0x186506(0x82)),this[_0x186506(0x8d)]['add'](_0x500abb));}['selectIcon'](_0x50f76d,_0x1f7b2f=!0x0){_0x1f7b2f&&this['clearSelection'](),_0x50f76d['classList']['add']('selected'),this['selectedIcons']['add'](_0x50f76d);}[_0x295c93(0xc7)](){const _0x4fd76f=_0x295c93;this[_0x4fd76f(0xb2)]()[_0x4fd76f(0x90)](_0x1c7893=>{const _0xa222d6=_0x4fd76f;_0x1c7893[_0xa222d6(0xa9)]['remove'](_0xa222d6(0x82),_0xa222d6(0xac));}),this['selectedIcons']['clear']();}['clearTemporaryHighlights'](){const _0x195e8d=_0x295c93;this['getIcons']()['forEach'](_0x2d7aae=>_0x2d7aae[_0x195e8d(0xa9)][_0x195e8d(0x9f)]('hover-by-selection'));}['resetDragSelectionState'](){const _0x5d2edc=_0x295c93;this['isDragging']=!0x1,this[_0x5d2edc(0xb4)]=!0x1,this[_0x5d2edc(0xcd)]=null,this[_0x5d2edc(0xc5)]&&this['selectionBox']['parentNode']&&(this[_0x5d2edc(0xc5)][_0x5d2edc(0xc4)]['removeChild'](this[_0x5d2edc(0xc5)]),this['selectionBox']=null),this['clearTemporaryHighlights']();}}