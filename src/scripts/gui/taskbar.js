const _0x398bc3=_0x17ca;(function(_0x8be8c8,_0xe9bf98){const _0x48a246=_0x17ca,_0x22b405=_0x8be8c8();while(!![]){try{const _0x19ddd7=-parseInt(_0x48a246(0x1c8))/0x1*(-parseInt(_0x48a246(0x1d9))/0x2)+-parseInt(_0x48a246(0x186))/0x3*(-parseInt(_0x48a246(0x1d3))/0x4)+parseInt(_0x48a246(0x1aa))/0x5+-parseInt(_0x48a246(0x1d6))/0x6*(parseInt(_0x48a246(0x1d8))/0x7)+parseInt(_0x48a246(0x191))/0x8*(parseInt(_0x48a246(0x199))/0x9)+parseInt(_0x48a246(0x1b3))/0xa+-parseInt(_0x48a246(0x1ce))/0xb;if(_0x19ddd7===_0xe9bf98)break;else _0x22b405['push'](_0x22b405['shift']());}catch(_0x458f98){_0x22b405['push'](_0x22b405['shift']());}}}(_0x3e55,0xe7667));function _0x3e55(){const _0x29fa62=['oty2mJi0ngfLuuDguG','Aw5Uzxjive1m','n3bsC05fuW','nte0mtHVC1nlsNu','DxbKyxrLvgfZA2jHCKXHEw91Da','zgLZCgXHEq','zw4Tvvm','lMjHBgXVB24','mJfdA25LuLC','Dgv4DenVBNrLBNq','Aw1N','lNrHC2TIyxi','C3vIC2nYAwjL','lNn5C3rLBs10CMf5','D2LKDgG','ywjZB2X1Dgu','lNrYyxKTzNvSBhnJCMvLBI1Py29U','lNrPBwu','z2v0u2vJB25KCW','ohDOwwzABa','BMv0D29YA0jHBgXVB25tAg93BG','D2vIA2L0uMvXDwvZDez1BgXZy3jLzw4','u1rbuLrnru5vx1rpr0Dmrq','C3r5Bgu','zgL2','zMXVB3i','zgvMyxvSDa','mtmYnJC2ndDMr1PfEwS','zM9YBwf0','zgvZDhjVEq','B3zLCMzSB3C','CMvZAxPL','ANnVBG','zxzLBNrcDxm','CxvLCNLtzwXLy3rVCKfSBa','C2nYB2XSwq','C3rHCNrcDxr0B24','CMvTB3zLq2HPBgq','rgf0zvrPBwvgB3jTyxq','zM9YrwfJAa','B2zMC2v0v2LKDgG','C3rVCfbYB3bHz2f0Aw9U','x2fWCgX5vgfZA2jHCKXHEw91Da','z2v0twLSBgLZzwnVBMrZ','mZu2oty0nvfcq0Tezq','Bxnszxf1zxn0rNvSBhnJCMvLBG','C2v0DxbdBg9JA1vWzgf0zxm','C3jJ','pc9ZCgfUpGOGicaGica8l2rPDJ4kicaGicaGphaGy2XHC3m9iMjHBgXVB25Fx3rLEhrFx2zPCNn0iIbZDhLSzt0ICgfKzgLUzZOGmca4ChGGmcaYChG7iJ4','yMfSBg9VBI1YB290','pc9WpGOGicaGica8zgL2ignSyxnZpsjIywXSB29UlxbVAw50zxiTyw5JAg9YiIbZDhLSzt0ICg9ZAxrPB246ywjZB2X1Dgu7yM90Dg9ToI0Xoxb4o3jPz2H0oJi0ChG7D2LKDgG6mdTOzwLNAhq6mdSIpJWVzgL2pGOGicaGpc9KAxy+cIaG','lNrYyxKTBMv0D29YAY1Py29U','CMvTB3zL','odq4mtGXmevtDwXgrq','lNrHC2TIyxiTAxrLBq','C3LZDgvTvhjHEq','re9nq29UDgvUDeXVywrLza','sxqNCYbHBhnVihrOzsbTB3n0igfJy3vYyxrLifHqihjLy3jLyxrPB24GB25SAw5LlJXICJ5cDwLSDcbMCM9TihnJCMf0y2GSihrVihrOzsbWAxHLBcWGyNKGBwuGoIK','x3nLDfn0yxj0qNv0Dg9Usw1Hz2u','x2nHBgn1Bgf0zuf2ywLSywjSzvDPzhrO','yMfSBg9VBG','Dg9W','yxnZzxrZl2D1As90yxnRyMfYl3n0yxj0lwj1DhrVBI53zwjW','CxvLCNLtzwXLy3rVCG','y3vYCMvUDfrPBwu','AwnVBI1VBMX5','ywrKrxzLBNrmAxn0zw5LCG','CgfYzw50tM9Kzq','z2v0rwXLBwvUDej5swq','C2nYB2XSwa','yM9KEq','BgvMDa','yxbWzw5Kq2HPBgq','y2XPy2S','mZvmsMvRDwi','lMjHBgXVB25Fx2nSB3nL','C3vIC2nYAwjLvg9fDMvUDhm','z2v0qM91BMrPBMDdBgLLBNrszwn0','CMvXDwvZDez1BgXZy3jLzw4','DgL0Bgu','mJuZntm5odHfwfDeq2G','B2zMC2v0sgvPz2H0','y2XHC3nmAxn0','zNvSBhnJCMvLBMnOyw5Nzq','BgvUz3rO','nti5nZa4B2rJshDS','DxbKyxrLq2XVy2S','Bw96uMvXDwvZDez1BgXty3jLzw4'];_0x3e55=function(){return _0x29fa62;};return _0x3e55();}import _0xcf76b5 from'./startMenu.js';import{EVENTS}from'../utils/eventBus.js';function _0x17ca(_0x5ca852,_0x52a79a){const _0x3e55bf=_0x3e55();return _0x17ca=function(_0x17ca23,_0x213f4d){_0x17ca23=_0x17ca23-0x185;let _0x3485ec=_0x3e55bf[_0x17ca23];if(_0x17ca['JgQpUh']===undefined){var _0x48edda=function(_0xcf76b5){const _0x2c9da6='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x456dc4='',_0x540f57='';for(let _0x101297=0x0,_0x27c7b2,_0x1047a0,_0xd6cceb=0x0;_0x1047a0=_0xcf76b5['charAt'](_0xd6cceb++);~_0x1047a0&&(_0x27c7b2=_0x101297%0x4?_0x27c7b2*0x40+_0x1047a0:_0x1047a0,_0x101297++%0x4)?_0x456dc4+=String['fromCharCode'](0xff&_0x27c7b2>>(-0x2*_0x101297&0x6)):0x0){_0x1047a0=_0x2c9da6['indexOf'](_0x1047a0);}for(let _0x1eaac5=0x0,_0x1a9c0d=_0x456dc4['length'];_0x1eaac5<_0x1a9c0d;_0x1eaac5++){_0x540f57+='%'+('00'+_0x456dc4['charCodeAt'](_0x1eaac5)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x540f57);};_0x17ca['HYrPup']=_0x48edda,_0x5ca852=arguments,_0x17ca['JgQpUh']=!![];}const _0x18a77c=_0x3e55bf[0x0],_0x489968=_0x17ca23+_0x18a77c,_0x352a1b=_0x5ca852[_0x489968];return!_0x352a1b?(_0x3485ec=_0x17ca['HYrPup'](_0x3485ec),_0x5ca852[_0x489968]=_0x3485ec):_0x3485ec=_0x352a1b,_0x3485ec;},_0x17ca(_0x5ca852,_0x52a79a);}import{setupTooltips}from'./tooltip.js';import{isMobileDevice}from'../utils/device.js';import{balloonSound}from'./boot.js';class Clock{#t;#e=null;#o=null;#s=new Intl[(_0x398bc3(0x1a4))](_0x398bc3(0x1dc),{'hour':'numeric','minute':'2-digit','hour12':!0x0});constructor(_0x2c9da6){const _0x566ee8=_0x398bc3;this.#t=document[_0x566ee8(0x1bd)](_0x2c9da6),this.#t&&this['setupClockUpdates']();}[_0x398bc3(0x1ac)](){const _0x1ad63e=_0x398bc3;clearTimeout(this.#o),clearInterval(this.#e);const _0x456dc4=new Date(),_0x540f57=0x3e8*(0x3c-_0x456dc4[_0x1ad63e(0x190)]())-_0x456dc4[_0x1ad63e(0x1a9)]();this[_0x1ad63e(0x1d4)](),this.#o=setTimeout(()=>{this['updateClock'](),this.#e=setInterval(()=>this['updateClock'](),0xea60);},_0x540f57);}['updateClock'](){const _0x593c47=_0x398bc3;this.#t&&(this.#t[_0x593c47(0x187)]=this.#s[_0x593c47(0x19a)](new Date()));}[_0x398bc3(0x19b)](){clearTimeout(this.#o),clearInterval(this.#e),this.#t=null;}}export default class Taskbar{constructor(_0x101297){const _0x3bfb96=_0x398bc3;this[_0x3bfb96(0x19f)]=_0x101297,this[_0x3bfb96(0x1a2)]=document[_0x3bfb96(0x1c2)]('start-button'),this['startMenuComponent']=new _0xcf76b5(this[_0x3bfb96(0x19f)]),this['programsContainer']=document['querySelector']('.taskbar-programs'),this[_0x3bfb96(0x1b5)]=document['querySelector'](_0x3bfb96(0x18b)),this['taskbar']=document['querySelector'](_0x3bfb96(0x189)),this['_setStartButtonImage'](),window[_0x3bfb96(0x1c0)](_0x3bfb96(0x19d),()=>this['_setStartButtonImage']()),this['setupStartButtonEffects'](),this['setupResponsiveTaskbar'](),setupTooltips('.tray-status-icon,\x20.tray-network-icon,\x20.tray-volume-icon,\x20.tray-fullscreen-icon',void 0x0,0x64,()=>!document[_0x3bfb96(0x1c2)](_0x3bfb96(0x1af))),new Clock(_0x3bfb96(0x18f)),this[_0x3bfb96(0x1ca)](),document['addEventListener'](_0x3bfb96(0x1d1),()=>{const _0x322c6b=_0x3bfb96;localStorage['removeItem'](_0x322c6b(0x192));});}['subscribeToEvents'](){const _0x274859=_0x398bc3;this['eventBus'][_0x274859(0x18a)](EVENTS['STARTMENU_OPENED'],()=>{const _0x1671c1=_0x274859;this[_0x1671c1(0x1a2)]['classList']['add']('active');}),this[_0x274859(0x19f)][_0x274859(0x18a)](EVENTS['STARTMENU_CLOSED'],()=>{const _0x3a6cdf=_0x274859;this[_0x3a6cdf(0x1a2)]['classList'][_0x3a6cdf(0x1b2)]('active');}),this['eventBus'][_0x274859(0x18a)](EVENTS['WINDOW_CREATED'],()=>{const _0x4c3513=_0x274859;this[_0x4c3513(0x1da)]();}),this['eventBus'][_0x274859(0x18a)](EVENTS['WINDOW_CLOSED'],()=>{const _0x4eae43=_0x274859;this[_0x4eae43(0x1da)]();});}['setupStartButtonEffects'](){this['startButton']['addEventListener']('click',_0x27c7b2=>{const _0x5cb9cb=_0x17ca;_0x27c7b2[_0x5cb9cb(0x1a7)](),this['eventBus']['publish'](EVENTS[_0x5cb9cb(0x194)]);});}['setupResponsiveTaskbar'](){this['updateTaskbarLayout'](),window['addEventListener']('resize',()=>{this['updateTaskbarLayout']();}),new MutationObserver(()=>{this['updateTaskbarLayout']();})['observe'](this['programsContainer'],{'childList':!0x0,'subtree':!0x1});}['updateTaskbarLayout'](){const _0x3f2fd4=_0x398bc3,_0x1047a0=document[_0x3f2fd4(0x1a0)](_0x3f2fd4(0x1b4));if(0x0===_0x1047a0['length'])return;const _0xd6cceb=this[_0x3f2fd4(0x1b9)](),_0x1eaac5=this['_determineLayoutMode'](_0x1047a0[_0x3f2fd4(0x1d2)],_0xd6cceb);this[_0x3f2fd4(0x1a8)](_0x1047a0,_0x1eaac5,_0xd6cceb);}[_0x398bc3(0x1b9)](){const _0x4a566c=_0x398bc3;return this['taskbar'][_0x4a566c(0x1a6)]-this['startButton'][_0x4a566c(0x1a6)]-this[_0x4a566c(0x1b5)]['offsetWidth'];}['_determineLayoutMode'](_0x1a9c0d,_0x2a19a1){const _0x17f392=_0x398bc3;return 0xa0*_0x1a9c0d<=_0x2a19a1?_0x17f392(0x198):0x50*_0x1a9c0d<=_0x2a19a1?'reduced':0x24*_0x1a9c0d<=_0x2a19a1?_0x17f392(0x1bf):_0x17f392(0x19c);}[_0x398bc3(0x1a8)](_0x281c0f,_0xc1f831,_0x5b7b45){const _0x2d1c7d=_0x398bc3,_0x4dfe7d=_0x281c0f[_0x2d1c7d(0x1d2)];let _0xba4a1e=Math[_0x2d1c7d(0x197)](_0x5b7b45/_0x4dfe7d);_0xba4a1e>0xa0&&(_0xba4a1e=0xa0),_0xba4a1e<0x24&&(_0xba4a1e=0x24);const _0x90fc28=0x24===_0xba4a1e;_0x281c0f['forEach'](_0x3dc2c9=>{const _0x1f100b=_0x2d1c7d;_0x3dc2c9[_0x1f100b(0x195)][_0x1f100b(0x1db)]='flex',_0x3dc2c9['style']['width']=_0xba4a1e+'px',_0x3dc2c9['classList']['toggle']('icon-only',_0x90fc28);});}[_0x398bc3(0x1b8)](){const _0x169076=_0x398bc3,_0x288455=this[_0x169076(0x1a2)]['querySelector'](_0x169076(0x188));_0x288455&&(_0x288455[_0x169076(0x1ad)]=_0x169076(0x1bc));}}let balloonTimeouts=[];export function hideBalloon(_0x37f021=!0x1){const _0x2a8a96=_0x398bc3,_0x24d1b4=document['getElementById'](_0x2a8a96(0x1af));if(!_0x24d1b4)return;const _0x33a0c7=_0x24d1b4[_0x2a8a96(0x1bd)]('.balloon');balloonTimeouts[_0x2a8a96(0x1a5)](_0xf298bb=>clearTimeout(_0xf298bb)),balloonTimeouts=[],_0x37f021?_0x24d1b4[_0x2a8a96(0x1c1)]&&_0x24d1b4['parentNode']['removeChild'](_0x24d1b4):(_0x33a0c7&&_0x33a0c7[_0x2a8a96(0x1d0)]['add']('hide'),setTimeout(()=>{const _0xd5923a=_0x2a8a96;_0x24d1b4[_0xd5923a(0x1c1)]&&_0x24d1b4['parentNode'][_0xd5923a(0x1a3)](_0x24d1b4);},0x3e8));}export async function showNetworkBalloon(){const _0x1848be=_0x398bc3,_0x39e0aa=document['getElementById']('login-screen');if(_0x39e0aa&&'none'!==_0x39e0aa[_0x1848be(0x195)][_0x1848be(0x1db)]&&'0'!==_0x39e0aa[_0x1848be(0x195)]['opacity'])return;if(document[_0x1848be(0x1c2)]('balloon-root'))return;balloonTimeouts[_0x1848be(0x1a5)](_0x34686c=>clearTimeout(_0x34686c)),balloonTimeouts=[],balloonSound&&(balloonSound[_0x1848be(0x1be)]=0x0,balloonSound['play']()['catch'](_0x471107=>console['error']('Error\x20playing\x20balloon\x20sound:',_0x471107)));const _0x1140cf=document[_0x1848be(0x1bd)](_0x1848be(0x1b1));if(!_0x1140cf)return;const _0x580f48=document['createElement'](_0x1848be(0x196));_0x580f48['id']=_0x1848be(0x1af),_0x580f48[_0x1848be(0x195)]['position']=_0x1848be(0x18d),_0x580f48['style']['zIndex']='1400',document['body'][_0x1848be(0x1c6)](_0x580f48);let _0x50b7bb='Welcome\x20to\x20my\x20portfolio',_0x349bc0=_0x1848be(0x1b7);try{const _0xcb530=await fetch('./system.json'),_0x1c0768=await _0xcb530[_0x1848be(0x19e)]();_0x1c0768['balloon']&&(_0x1c0768['balloon']['title']&&(_0x50b7bb=_0x1c0768[_0x1848be(0x1ba)][_0x1848be(0x1cd)]),_0x1c0768[_0x1848be(0x1ba)]['body']&&(_0x349bc0=_0x1c0768['balloon'][_0x1848be(0x1c4)]));}catch(_0x502d1b){}_0x580f48[_0x1848be(0x1d7)]='\x0a\x20\x20\x20\x20<div\x20class=\x22balloon\x22>\x0a\x20\x20\x20\x20\x20\x20<button\x20class=\x22balloon__close\x22\x20aria-label=\x22Close\x22></button>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22balloon__header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<img\x20class=\x22balloon__header__img\x22\x20src=\x22assets/gui/taskbar/welcome.webp\x22\x20alt=\x22welcome\x22\x20/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22balloon__header__text\x22>'+_0x50b7bb+_0x1848be(0x1ae)+_0x349bc0+_0x1848be(0x1b0),setTimeout(()=>{const _0x32f8e5=_0x1848be,_0x461873=_0x1140cf['getBoundingClientRect'](),_0x323b94=_0x580f48[_0x32f8e5(0x1bd)]('.balloon'),_0x37c0ab=_0x323b94[_0x32f8e5(0x1bd)]('.balloon-pointer-anchor');requestAnimationFrame(()=>{const _0x4d49c5=_0x32f8e5,_0x273249=_0x37c0ab[_0x4d49c5(0x1cb)](),_0x4894ae=_0x461873[_0x4d49c5(0x1c5)]+_0x461873[_0x4d49c5(0x18c)]/0x2+window['scrollX']-(_0x273249['left']+_0x273249[_0x4d49c5(0x18c)]/0x2+window[_0x4d49c5(0x1c3)])-0x8;_0x580f48[_0x4d49c5(0x195)]['left']=_0x580f48['offsetLeft']+_0x4894ae+'px',_0x580f48[_0x4d49c5(0x195)]['top']=_0x461873[_0x4d49c5(0x1bb)]-_0x323b94[_0x4d49c5(0x1cf)]-0x8-0xc+window[_0x4d49c5(0x1a1)]+'px';});},0x0);const _0x5c8143=_0x580f48[_0x1848be(0x1bd)](_0x1848be(0x185));_0x580f48['querySelector'](_0x1848be(0x1c9))['onclick']=()=>hideBalloon(),_0x5c8143[_0x1848be(0x1d0)]['remove']('hide');const _0x568016=isMobileDevice(),_0xd4f553=_0x568016?0x1b58:0x2710,_0x464c2b=_0x568016?0x1f40:0x2af8;balloonTimeouts['push'](setTimeout(()=>_0x5c8143['classList']['add']('hide'),_0xd4f553)),balloonTimeouts['push'](setTimeout(()=>hideBalloon(),_0x464c2b));}const setupBalloonClick=()=>{const _0x1ad659=_0x398bc3,_0x40c48a=document[_0x1ad659(0x1bd)]('.tray-network-icon');_0x40c48a&&_0x40c48a['addEventListener']('click',showNetworkBalloon);};window['addEventListener'](_0x398bc3(0x1b6),()=>{const _0x350752=_0x398bc3;setupBalloonClick();const _0xb5daf7=document['querySelector'](_0x350752(0x18e));_0xb5daf7&&_0xb5daf7['addEventListener'](_0x350752(0x1c7),()=>{const _0x2fdd5e=_0x350752;hideBalloon(!0x0);const _0x44037a=document['documentElement'];document['fullscreenElement']?document['exitFullscreen']():_0x44037a['requestFullscreen']?_0x44037a[_0x2fdd5e(0x1cc)]():_0x44037a[_0x2fdd5e(0x1d5)]?_0x44037a['mozRequestFullScreen']():_0x44037a[_0x2fdd5e(0x193)]?_0x44037a[_0x2fdd5e(0x193)]():_0x44037a[_0x2fdd5e(0x1ab)]?_0x44037a[_0x2fdd5e(0x1ab)]():alert('Press\x20F11\x20to\x20enter\x20fullscreen\x20mode.');});});